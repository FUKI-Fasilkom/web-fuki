{% extends 'base.html' %}
{% load static %}

{% block title %}{{ article.judul }}{% endblock %}

{% block content %}
    {% include 'header.html' with page_title="Blog Kajian" %}

    <div class="px-6 py-8 md:p-[84px] bg-[#F6FAEB] min-h-screen">
        
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 max-w-[1400px] mx-auto">
            
            <!-- LEFT COLUMN (Content) -->
            <div class="lg:col-span-8 flex flex-col">
                
                <div class="mb-8">
                    <a href="{% url 'blog_kajian' %}" class="inline-block px-8 py-2 rounded-full border border-black bg-[#F2F2F2] text-black font-medium hover:bg-gray-200 transition-colors">
                        Kembali
                    </a>
                </div>

                <h1 class="text-4xl md:text-5xl font-bold text-[#3A3A3A] mb-8">
                    {{ article.judul }}
                </h1>

                <div class="w-full h-[400px] md:h-[500px] bg-gray-300 rounded-[30px] overflow-hidden mb-6 shadow-sm">
                    {% if article.image %}
                        <img src="{{ article.image.url }}" alt="{{ article.judul }}" class="w-full h-full object-cover">
                    {% else %}
                        <div class="w-full h-full flex items-center justify-center bg-gray-200 text-gray-400">
                            No Image Available
                        </div>
                    {% endif %}
                </div>

                <div class="text-[#7D7D7D]  text-[12px] font-medium mb-8">
                    <span>{{ article.penceramah }}</span>
                    <br>
                    <span>{{ article.tanggal|date:"j F Y" }}</span>
                </div>

                <!-- Menggunakan |safe agar HTML dari text editor (jika ada) ter-render -->
                <!-- Menggunakan |linebreaks agar enter di text area admin jadi paragraf -->
                <div class="prose prose-lg max-w-none text-[#3A3A3A] text-[16px] text-justify leading-relaxed">
                    {{ article.deskripsi|safe|linebreaks }}
                </div>

            </div>

            <!-- RIGHT COLUMN (Sidebar) -->
            <div class="lg:col-span-4 flex flex-col gap-12 pt-0 lg:pt-20">
                
                <!-- Search Bar Sidebar (Berfungsi) -->
                <form action="{% url 'blog_kajian' %}" method="GET" class="w-full">
                     <div class="relative w-full"> 
                        <input 
                            type="text" 
                            name="q"
                            placeholder="Cari blog kajian" 
                            class="w-full px-6 py-3 pr-12 rounded-full border-[3px] border-[#3A3A3A] bg-[#F8FBEF00] text-[#3A3A3A] placeholder-[#3A3A3A] focus:outline-none shadow-sm transition-all"
                        >
                        <button type="submit" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-[#3A3A3A] hover:text-black transition-colors">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                        </button>
                    </div>
                </form>

                <div class="flex flex-col gap-8">
                    {% for kajian in sidebar_list %}
                        {% include 'kajian_card.html' with kajian=kajian %}
                    {% endfor %}
                </div>

            </div>

        </div>
    </div>
{% endblock %}