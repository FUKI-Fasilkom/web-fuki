{% extends 'base.html' %}
{% load static %}

{% block content %}
{% include 'header.html' with page_title="Kegiatan" %}
<div class="relative w-full min-h-screen bg-[#F8FBEF] overflow-hidden">

    <div class="relative z-20 max-w-screen-xl mx-auto px-6 py-16 flex flex-col gap-y-6">
        

        <!-- Filter Tabs -->
        <div class="flex justify-center space-x-4 my-6">
            <button
                class="px-6 py-2 rounded-full bg-[#E3EFC2] text-gray-700 shadow-inner border-[3px] border-[#3A3A3A]"><a href="{% url 'kegiatan:kegiatan_all' %}">All</a></button>
            <button
                class="px-6 py-2 rounded-full bg-[#E3EFC2] text-gray-700 shadow-inner border-[3px] border-[#3A3A3A]"><a href="{% url 'kegiatan:kegiatan_upcoming' %}">Upcoming</a></button>
            <button
                class="px-6 py-2 rounded-full bg-[#A6CE39] text-gray-800 font-semibold shadow-md border-[3px] border-[#3A3A3A]">Past</button>
        </div>

        <!-- Kegiatan Grid -->
        <div class="grid md:grid-cols-1 gap-y-12 content-center">
            {% for kegiatan in kegiatan_list %}

            <!-- Grid -->
            <div class="flex gap-4 max-w-5xl mx-auto items-start">
                <!-- Card kiri (date info) -->
                <div
                    class="w-[331px] h-[340px] bg-[#4176A6] rounded-2xl shadow-lg p-6 flex flex-col justify-center text-center text-white border-[3px] border-[#3A3A3A]">
                    <div>
                        <p class="font-bold text-[24px]">Save the date!</p>
                        <p class="font-bold my-2 text-[64px]">{{ kegiatan.tanggal|date:"j" }}</p>
                        <p class="text-bold text[20px]">{{ kegiatan.tanggal|date:"F Y" }}</p>
                        <p class="text-bold text-[20px]">{{ kegiatan.start_time|time:"H.i" }} - {{ kegiatan.end_time|time:"H.i" }}</p>
                    </div>
                    <button
                        class="mt-6 bg-[#E6F7D5] text-gray-800 font-medium py-2 rounded-full shadow hover:bg-[#d4edbf] transition border-[3px] border-[#3A3A3A]">
                        {% if kegiatan.link_registrasi is not None %}
                            <a href="{{ kegiatan.link_registrasi }}">Register</a>
                        {% else %}
                            Register
                        {% endif %}
                    </button>
                </div>

                <!-- Card kanan (event details) -->
                <div
                    class="w-[713px] h-[340px] bg-[#4176A6] rounded-2xl shadow-lg p-6 text-white flex flex-col justify-center items-start gap-y-1 border-[3px] border-[#3A3A3A]">
                    <h4 class="text-[24px] font-normal opacity-90">{{ kegiatan.judul }}</h4>
                    <h4 class="text-[24px] font-bold leading-snug mt-2">
                        {{ kegiatan.deskripsi }}
                    </h4>
                    <h5 class="text-[20px] font-bold mt-2">Bersama {{ kegiatan.guest_star }}</h5>

                    <div class="flex items-center gap-2 mt-4 text-[20px] font-normal">
                        <h5>📍</h5>
                        <h5>
                            {% if kegiatan.link_lokasi is not None %}
                                <a href="{{ kegiatan.link_lokasi }}">{{ kegiatan.lokasi }}</a>
                            {% else %}
                                {{ kegiatan.lokasi }}
                            {% endif %}
                        </h5>
                    </div>
                    <div class="flex items-center gap-2 mt-4 text-[20px] font-normal">
                        <h5>📞</h5>
                        <h5>{{ kegiatan.contact }}</h5>
                    </div>
                </div>
            </div>

            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}